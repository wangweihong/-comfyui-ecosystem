{"id":"cd732cf0-c62d-4c2d-998a-e0e40c8464c5","revision":0,"last_node_id":103,"last_link_id":117,"nodes":[{"id":64,"type":"LayerUtility: PurgeVRAM V2","pos":[750,-3340],"size":[270,82],"flags":{},"order":15,"mode":0,"inputs":[{"label":"anything","localized_name":"任意内容","name":"anything","type":"*","link":75},{"label":"purge_cache","localized_name":"清除缓存","name":"purge_cache","type":"BOOLEAN","widget":{"name":"purge_cache"}},{"label":"purge_models","localized_name":"清除模型","name":"purge_models","type":"BOOLEAN","widget":{"name":"purge_models"}}],"outputs":[{"label":"any","localized_name":"any","name":"any","type":"*","links":[76]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"a0786704395aa303f3b3fca6ea0470cfc7e07de1","Node name for S&R":"LayerUtility: PurgeVRAM V2","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"purge_models":true,"purge_cache":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI_LayerStyle","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":65,"type":"LayerUtility: PurgeVRAM V2","pos":[760.2077026367188,-3020.85400390625],"size":[270,82],"flags":{},"order":9,"mode":0,"inputs":[{"label":"anything","localized_name":"任意内容","name":"anything","type":"*","link":77},{"label":"purge_cache","localized_name":"清除缓存","name":"purge_cache","type":"BOOLEAN","widget":{"name":"purge_cache"}},{"label":"purge_models","localized_name":"清除模型","name":"purge_models","type":"BOOLEAN","widget":{"name":"purge_models"}}],"outputs":[{"label":"any","localized_name":"any","name":"any","type":"*","links":[78]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"a0786704395aa303f3b3fca6ea0470cfc7e07de1","Node name for S&R":"LayerUtility: PurgeVRAM V2","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"purge_models":true,"purge_cache":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI_LayerStyle","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":58,"type":"FB_Qwen3TTSVoiceClonePrompt","pos":[261.0386012988294,-2760.7123071435617],"size":[400,232],"flags":{},"order":3,"mode":0,"inputs":[{"label":"ref_audio","localized_name":"ref_audio","name":"ref_audio","type":"AUDIO","link":65},{"label":"ref_text","localized_name":"ref_text","name":"ref_text","type":"STRING","widget":{"name":"ref_text"}},{"label":"model_choice","localized_name":"model_choice","name":"model_choice","type":"COMBO","widget":{"name":"model_choice"}},{"label":"device","localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"}},{"label":"precision","localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"}},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"label":"x_vector_only","localized_name":"x_vector_only","name":"x_vector_only","shape":7,"type":"BOOLEAN","widget":{"name":"x_vector_only"}},{"localized_name":"unload_model_after_generate","name":"unload_model_after_generate","shape":7,"type":"BOOLEAN","widget":{"name":"unload_model_after_generate"},"link":null}],"outputs":[{"label":"voice_clone_prompt","localized_name":"voice_clone_prompt","name":"voice_clone_prompt","type":"VOICE_CLONE_PROMPT","links":[77]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"ceae04a2b1998b49799135132dd00142c3e650c1","Node name for S&R":"FB_Qwen3TTSVoiceClonePrompt","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"ref_text":true,"x_vector_only":true,"precision":true,"device":true,"model_choice":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI-Qwen-TTS","enableTabs":false,"tabXOffset":10},"widgets_values":["小林今天第三次走神了。酒吧昏黄的灯光晃得他心跳加速，而吧台对面那个红唇微扬的女人，正用指尖轻轻摩挲着酒杯边缘","1.7B","auto","bf16","auto",false,false]},{"id":62,"type":"SaveAudio","pos":[2297.823486328125,-3533.35888671875],"size":[381.6753845214844,185.41355895996094],"flags":{},"order":18,"mode":0,"inputs":[{"label":"audio","localized_name":"音频","name":"audio","type":"AUDIO","link":116},{"label":"filename_prefix","localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.8.2","Node name for S&R":"SaveAudio","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"filename_prefix":true,"audioUI":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["audio/剑来第一章"]},{"id":89,"type":"WhisperSTT","pos":[-307.54813674315443,-3441.559815393057],"size":[270,82],"flags":{},"order":5,"mode":4,"inputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","link":101},{"label":"model_size","localized_name":"model_size","name":"model_size","type":"COMBO","widget":{"name":"model_size"}},{"label":"language","localized_name":"language","name":"language","type":"COMBO","widget":{"name":"language"}}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","type":"STRING","links":[]}],"properties":{"cnr_id":"comfyui-edgetts","ver":"1.2.1","Node name for S&R":"WhisperSTT","ue_properties":{"version":"7.5.2","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["base","auto"]},{"id":57,"type":"FB_Qwen3TTSVoiceClonePrompt","pos":[199.9432927104848,-3161.5328575550466],"size":[400,232],"flags":{},"order":12,"mode":0,"inputs":[{"label":"ref_audio","localized_name":"ref_audio","name":"ref_audio","type":"AUDIO","link":106},{"label":"ref_text","localized_name":"ref_text","name":"ref_text","type":"STRING","widget":{"name":"ref_text"},"link":113},{"label":"model_choice","localized_name":"model_choice","name":"model_choice","type":"COMBO","widget":{"name":"model_choice"}},{"label":"device","localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"}},{"label":"precision","localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"}},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"label":"x_vector_only","localized_name":"x_vector_only","name":"x_vector_only","shape":7,"type":"BOOLEAN","widget":{"name":"x_vector_only"}},{"localized_name":"unload_model_after_generate","name":"unload_model_after_generate","shape":7,"type":"BOOLEAN","widget":{"name":"unload_model_after_generate"},"link":null}],"outputs":[{"label":"voice_clone_prompt","localized_name":"voice_clone_prompt","name":"voice_clone_prompt","type":"VOICE_CLONE_PROMPT","links":[75]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"ceae04a2b1998b49799135132dd00142c3e650c1","Node name for S&R":"FB_Qwen3TTSVoiceClonePrompt","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"ref_text":true,"x_vector_only":true,"precision":true,"device":true,"model_choice":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI-Qwen-TTS","enableTabs":false,"tabXOffset":10},"widgets_values":["靠过去？可、可我们才第一次见面……你都不认识我……","1.7B","auto","bf16","auto",false,false]},{"id":55,"type":"FB_Qwen3TTSVoiceDesign","pos":[-372.89478601075473,-2678.3333238969262],"size":[410,454],"flags":{},"order":0,"mode":0,"inputs":[{"label":"text","localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"}},{"label":"instruct","localized_name":"instruct","name":"instruct","type":"STRING","widget":{"name":"instruct"}},{"label":"model_choice","localized_name":"model_choice","name":"model_choice","type":"COMBO","widget":{"name":"model_choice"}},{"label":"device","localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"}},{"label":"precision","localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"}},{"label":"language","localized_name":"language","name":"language","type":"COMBO","widget":{"name":"language"}},{"label":"seed","localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"}},{"label":"max_new_tokens","localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"}},{"localized_name":"top_p","name":"top_p","shape":7,"type":"FLOAT","widget":{"name":"top_p"},"link":null},{"localized_name":"top_k","name":"top_k","shape":7,"type":"INT","widget":{"name":"top_k"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"repetition_penalty","name":"repetition_penalty","shape":7,"type":"FLOAT","widget":{"name":"repetition_penalty"},"link":null},{"localized_name":"attention","name":"attention","shape":7,"type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"unload_model_after_generate","name":"unload_model_after_generate","shape":7,"type":"BOOLEAN","widget":{"name":"unload_model_after_generate"},"link":null}],"outputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","links":[65,68]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"ceae04a2b1998b49799135132dd00142c3e650c1","Node name for S&R":"FB_Qwen3TTSVoiceDesign","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI-Qwen-TTS","enableTabs":false,"tabXOffset":10},"widgets_values":["小林今天第三次走神了。酒吧昏黄的灯光晃得他心跳加速，而吧台对面那个红唇微扬的女人，正用指尖轻轻摩挲着酒杯边缘","声音特征沉稳、客观、略带叙事感的女播音腔，普通话标准，语速适中，带有轻微的环境氛围渲染，语调平缓但富有感染力，在关键情节时稍作停顿，增强画面感。情感冷静旁观，偶尔带一丝微妙的反讽","1.7B","auto","bf16","Chinese",238357790124060,"fixed",2048,0.8,20,1,1.05,"auto",false]},{"id":61,"type":"SaveAudio","pos":[320,-2440],"size":[270,112],"flags":{},"order":4,"mode":0,"inputs":[{"label":"audio","localized_name":"音频","name":"audio","type":"AUDIO","link":68},{"label":"filename_prefix","localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.8.2","Node name for S&R":"SaveAudio","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"filename_prefix":true,"audioUI":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["audio/ComfyUI"]},{"id":63,"type":"LayerUtility: PurgeVRAM V2","pos":[740,-3500],"size":[270,82],"flags":{},"order":14,"mode":0,"inputs":[{"label":"anything","localized_name":"任意内容","name":"anything","type":"*","link":73},{"label":"purge_cache","localized_name":"清除缓存","name":"purge_cache","type":"BOOLEAN","widget":{"name":"purge_cache"}},{"label":"purge_models","localized_name":"清除模型","name":"purge_models","type":"BOOLEAN","widget":{"name":"purge_models"}}],"outputs":[{"label":"any","localized_name":"any","name":"any","type":"*","links":[74]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"a0786704395aa303f3b3fca6ea0470cfc7e07de1","Node name for S&R":"LayerUtility: PurgeVRAM V2","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"purge_models":true,"purge_cache":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI_LayerStyle","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":87,"type":"LoadAudio","pos":[-822.378662109375,-3527.027587890625],"size":[270,136],"flags":{"collapsed":false},"order":1,"mode":0,"inputs":[{"label":"audio","localized_name":"音频","name":"audio","type":"COMBO","widget":{"name":"audio"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"}}],"outputs":[{"label":"AUDIO","localized_name":"音频","name":"AUDIO","type":"AUDIO","links":[101,103,108]}],"properties":{"cnr_id":"comfy-core","ver":"0.8.2","Node name for S&R":"LoadAudio","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"upload":true,"audio":true,"audioUI":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["zhenzhen.flac",null,null]},{"id":98,"type":"84b9ef87-ff17-4316-9f9a-a422bcdd553d","pos":[-415.0919567792886,-3842.111037150334],"size":[397.5,263.6363636363636],"flags":{},"order":6,"mode":0,"inputs":[{"label":"音频","localized_name":"audio","name":"audio","type":"AUDIO","link":108},{"label":"模型","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"语言","name":"language","type":"COMBO","widget":{"name":"language"},"link":null},{"label":"语音识别或翻译","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"label":"字幕格式","name":"subtitle_format","type":"COMBO","widget":{"name":"subtitle_format"},"link":null}],"outputs":[{"label":"字幕文件","localized_name":"subtitle text","name":"subtitle text","type":"SUBTITLE","links":[]},{"label":"纯文本","name":"pure text","type":"STRING","links":[109,110]}],"properties":{"proxyWidgets":[["-1","model"],["-1","language"],["-1","task"],["-1","subtitle_format"]],"cnr_id":"comfy-core","ver":"0.4.0","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["faster-whisper-large-v3","auto","transcribe",".vtt"]},{"id":93,"type":"WhisperSTT","pos":[-366.7062495569912,-2956.7639220214496],"size":[270,82],"flags":{},"order":7,"mode":4,"inputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","link":104},{"label":"model_size","localized_name":"model_size","name":"model_size","type":"COMBO","widget":{"name":"model_size"}},{"label":"language","localized_name":"language","name":"language","type":"COMBO","widget":{"name":"language"}}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","type":"STRING","links":[]}],"properties":{"cnr_id":"comfyui-edgetts","ver":"1.2.1","Node name for S&R":"WhisperSTT","ue_properties":{"version":"7.5.2","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["base","auto"]},{"id":94,"type":"LoadAudio","pos":[-727.8468627929688,-3168.298828125],"size":[270,136],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[{"label":"audio","localized_name":"音频","name":"audio","type":"COMBO","widget":{"name":"audio"}},{"label":"audioUI","localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"}},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"}}],"outputs":[{"label":"AUDIO","localized_name":"音频","name":"AUDIO","type":"AUDIO","links":[104,106,112]}],"properties":{"cnr_id":"comfy-core","ver":"0.8.2","Node name for S&R":"LoadAudio","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"upload":true,"audio":true,"audioUI":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["t8.WAV",null,null]},{"id":99,"type":"ShowText|pysssss","pos":[90.31161323086415,-3852.4960613872368],"size":[340.7767945522037,148.02379411853963],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":110}],"outputs":[{"localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"f2838ed5e59de4d73cde5c98354b87a8d3200190","Node name for S&R":"ShowText|pysssss","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["안녕하세요. JTBC 수목 드라마 로스쿨에서 전예세를 맡은 고윤정입니다."]},{"id":56,"type":"FB_Qwen3TTSVoiceClonePrompt","pos":[295.0409370784027,-3634.3390880799825],"size":[400,232],"flags":{},"order":10,"mode":0,"inputs":[{"label":"ref_audio","localized_name":"ref_audio","name":"ref_audio","type":"AUDIO","link":103},{"label":"ref_text","localized_name":"ref_text","name":"ref_text","type":"STRING","widget":{"name":"ref_text"},"link":109},{"label":"model_choice","localized_name":"model_choice","name":"model_choice","type":"COMBO","widget":{"name":"model_choice"}},{"label":"device","localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"}},{"label":"precision","localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"}},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"label":"x_vector_only","localized_name":"x_vector_only","name":"x_vector_only","shape":7,"type":"BOOLEAN","widget":{"name":"x_vector_only"}},{"localized_name":"unload_model_after_generate","name":"unload_model_after_generate","shape":7,"type":"BOOLEAN","widget":{"name":"unload_model_after_generate"},"link":null}],"outputs":[{"label":"voice_clone_prompt","localized_name":"voice_clone_prompt","name":"voice_clone_prompt","type":"VOICE_CLONE_PROMPT","links":[73]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"ceae04a2b1998b49799135132dd00142c3e650c1","Node name for S&R":"FB_Qwen3TTSVoiceClonePrompt","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"ref_text":true,"x_vector_only":true,"precision":true,"device":true,"model_choice":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"secondTabText":"Send Back","aux_id":"flybirdxx/ComfyUI-Qwen-TTS","enableTabs":false,"tabXOffset":10},"widgets_values":["紧张什么？你连坐姿都在发抖……要不要靠过来一点？这里太吵了","1.7B","auto","bf16","auto",false,false]},{"id":101,"type":"f522df83-ea66-4ade-85d1-ae5fc5a48628","pos":[-397.72134258505054,-3261.88676478946],"size":[331.5292018423596,150],"flags":{},"order":8,"mode":0,"inputs":[{"label":"音频","localized_name":"audio","name":"audio","type":"AUDIO","link":112},{"label":"模型","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"语言","name":"language","type":"COMBO","widget":{"name":"language"},"link":null},{"label":"语音识别或翻译","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"label":"字幕格式","name":"subtitle_format","type":"COMBO","widget":{"name":"subtitle_format"},"link":null}],"outputs":[{"label":"字幕文件","localized_name":"subtitle text","name":"subtitle text","type":"SUBTITLE","links":[]},{"label":"纯文本","name":"pure text","type":"STRING","links":[113,114]}],"properties":{"proxyWidgets":[["-1","model"],["-1","language"],["-1","task"],["-1","subtitle_format"]],"cnr_id":"comfy-core","ver":"0.4.0","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["faster-whisper-large-v3","auto","transcribe",".vtt"]},{"id":102,"type":"ShowText|pysssss","pos":[-8.179903146220635,-3343.06140891483],"size":[340.7767945522037,148.02379411853963],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":114}],"outputs":[{"localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"f2838ed5e59de4d73cde5c98354b87a8d3200190","Node name for S&R":"ShowText|pysssss","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["大家好,我是提拔 今天要给大家更新一下 这个Hotlib 之前给大家介绍过了 它就是号称小苏诺 在整体的表现上,在实测上面 还是跟苏诺有点差距的"]},{"id":52,"type":"FB_Qwen3TTSRoleBank","pos":[1090,-3510],"size":[270,366],"flags":{},"order":16,"mode":0,"inputs":[{"label":"prompt_1","localized_name":"prompt_1","name":"prompt_1","shape":7,"type":"VOICE_CLONE_PROMPT","link":74},{"label":"prompt_2","localized_name":"prompt_2","name":"prompt_2","shape":7,"type":"VOICE_CLONE_PROMPT","link":76},{"label":"prompt_3","localized_name":"prompt_3","name":"prompt_3","shape":7,"type":"VOICE_CLONE_PROMPT","link":78},{"label":"prompt_4","localized_name":"prompt_4","name":"prompt_4","shape":7,"type":"VOICE_CLONE_PROMPT"},{"label":"prompt_5","localized_name":"prompt_5","name":"prompt_5","shape":7,"type":"VOICE_CLONE_PROMPT"},{"label":"prompt_6","localized_name":"prompt_6","name":"prompt_6","shape":7,"type":"VOICE_CLONE_PROMPT"},{"label":"prompt_7","localized_name":"prompt_7","name":"prompt_7","shape":7,"type":"VOICE_CLONE_PROMPT"},{"label":"prompt_8","localized_name":"prompt_8","name":"prompt_8","shape":7,"type":"VOICE_CLONE_PROMPT"},{"label":"role_name_1","localized_name":"role_name_1","name":"role_name_1","shape":7,"type":"STRING","widget":{"name":"role_name_1"}},{"label":"role_name_2","localized_name":"role_name_2","name":"role_name_2","shape":7,"type":"STRING","widget":{"name":"role_name_2"}},{"label":"role_name_3","localized_name":"role_name_3","name":"role_name_3","shape":7,"type":"STRING","widget":{"name":"role_name_3"}},{"label":"role_name_4","localized_name":"role_name_4","name":"role_name_4","shape":7,"type":"STRING","widget":{"name":"role_name_4"}},{"label":"role_name_5","localized_name":"role_name_5","name":"role_name_5","shape":7,"type":"STRING","widget":{"name":"role_name_5"}},{"label":"role_name_6","localized_name":"role_name_6","name":"role_name_6","shape":7,"type":"STRING","widget":{"name":"role_name_6"}},{"label":"role_name_7","localized_name":"role_name_7","name":"role_name_7","shape":7,"type":"STRING","widget":{"name":"role_name_7"}},{"label":"role_name_8","localized_name":"role_name_8","name":"role_name_8","shape":7,"type":"STRING","widget":{"name":"role_name_8"}}],"outputs":[{"label":"role_bank","localized_name":"role_bank","name":"role_bank","type":"QWEN3_ROLE_BANK","links":[115]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"ceae04a2b1998b49799135132dd00142c3e650c1","Node name for S&R":"FB_Qwen3TTSRoleBank","hasSecondTab":false,"ue_properties":{"widget_ue_connectable":{"role_name_1":true,"role_name_2":true,"role_name_7":true,"role_name_8":true,"role_name_3":true,"role_name_4":true,"role_name_5":true,"role_name_6":true},"version":"7.5.2","input_ue_unconnectable":{}},"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["贞贞","T8","旁白","Role4","Role5","Role6","Role7","Role8"]},{"id":103,"type":"FB_Qwen3TTSDialogueInference","pos":[1524.2888211633267,-3621.0166277222556],"size":[410.2276654809159,701.7462775656909],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"role_bank","name":"role_bank","type":"QWEN3_ROLE_BANK","link":115},{"localized_name":"script","name":"script","type":"STRING","widget":{"name":"script"},"link":null},{"localized_name":"model_choice","name":"model_choice","type":"COMBO","widget":{"name":"model_choice"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"language","name":"language","type":"COMBO","widget":{"name":"language"},"link":null},{"localized_name":"pause_linebreak","name":"pause_linebreak","type":"FLOAT","widget":{"name":"pause_linebreak"},"link":null},{"localized_name":"period_pause","name":"period_pause","type":"FLOAT","widget":{"name":"period_pause"},"link":null},{"localized_name":"comma_pause","name":"comma_pause","type":"FLOAT","widget":{"name":"comma_pause"},"link":null},{"localized_name":"question_pause","name":"question_pause","type":"FLOAT","widget":{"name":"question_pause"},"link":null},{"localized_name":"hyphen_pause","name":"hyphen_pause","type":"FLOAT","widget":{"name":"hyphen_pause"},"link":null},{"localized_name":"merge_outputs","name":"merge_outputs","type":"BOOLEAN","widget":{"name":"merge_outputs"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"max_new_tokens_per_line","name":"max_new_tokens_per_line","shape":7,"type":"INT","widget":{"name":"max_new_tokens_per_line"},"link":null},{"localized_name":"top_p","name":"top_p","shape":7,"type":"FLOAT","widget":{"name":"top_p"},"link":null},{"localized_name":"top_k","name":"top_k","shape":7,"type":"INT","widget":{"name":"top_k"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"repetition_penalty","name":"repetition_penalty","shape":7,"type":"FLOAT","widget":{"name":"repetition_penalty"},"link":null},{"localized_name":"attention","name":"attention","shape":7,"type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"unload_model_after_generate","name":"unload_model_after_generate","shape":7,"type":"BOOLEAN","widget":{"name":"unload_model_after_generate"},"link":null}],"outputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","links":[116,117]}],"properties":{"cnr_id":"qwen3-tts-comfyui","ver":"1.0.6","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{}},"Node name for S&R":"FB_Qwen3TTSDialogueInference"},"widgets_values":["旁白：凌晨一点的Club V，霓虹灯像失控的心跳，T8独自坐在VIP卡座，指尖转着威士忌杯。贞贞从舞池阴影里走来，黑色吊带裙贴着腰线，每一步都踩着鼓点的间隙。她没说话，只是俯身——长发扫过T8的手背，凉得像蛇。\n贞贞：\"네 친구가 먼저 갔어.\"\n旁白：她唇色很深，声音很轻。\n贞贞：\"그는… 나한테 널 돌봐 달라고 했어.\"\n旁白：谎言。T8知道。但他没拆穿。她坐上沙发扶手，膝盖若有似无地碰着他的大腿。\n旁白：冰凉的酒杯贴上来，她喂他喝了一口，琥珀色液体沾在她指尖，她舔掉了。\nT8：\"你跳什么舞？\"\n旁白：她笑了，没回答，直接拉他进舞池。\n旁白：人群是掩护。她的后背贴着他的胸口，随电子乐起伏，像共谋。T8的手僵在半空，她抓起来，按在自己腰上。\n贞贞：\"긴장하지 마세요.\"\n旁白：她仰头，气息喷在他喉结。\n贞贞：\"나는 그냥… 네 노래가 좋을 뿐이야.\"\n旁白：她当然知道他是谁。所有人都知道。\n旁白：凌晨三点，她在出租车上给他系安全带，手指划过他锁骨，停了一秒。\n贞贞：\"우리 집에 해장약이 있어.\"\n旁白：T8看着窗外流动的光，想起经纪人说的——\"别惹女爱豆\"。他关上车门。\nT8：\"我住在隔壁的酒店。\"\n旁白：贞贞愣住，随即笑出声，真心实意的。\n贞贞：\"재미있어.\"\n旁白：她摇下车窗。\n贞贞：\"다음에 내가 노래를 쓸 때, 네가 들어줄래?\"\n旁白：出租车汇入车流，像什么都没发生。但T8知道，游戏才刚开始。\n","1.7B","auto","bf16","Auto",0.5,0.4,0.2,0.6,0.3,true,4,435437925389559,"randomize",2048,0.8,20,1,1.05,"auto",false]},{"id":100,"type":"PreviewAudio","pos":[2166.2111148848226,-3248.592258717335],"size":[482.89271756617745,193.58091533690003],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"音频","name":"audio","type":"AUDIO","link":117},{"localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PreviewAudio","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[]}],"links":[[65,55,0,58,0,"AUDIO"],[68,55,0,61,0,"AUDIO"],[73,56,0,63,0,"VOICE_CLONE_PROMPT"],[74,63,0,52,0,"VOICE_CLONE_PROMPT"],[75,57,0,64,0,"VOICE_CLONE_PROMPT"],[76,64,0,52,1,"VOICE_CLONE_PROMPT"],[77,58,0,65,0,"VOICE_CLONE_PROMPT"],[78,65,0,52,2,"VOICE_CLONE_PROMPT"],[101,87,0,89,0,"AUDIO"],[103,87,0,56,0,"AUDIO"],[104,94,0,93,0,"AUDIO"],[106,94,0,57,0,"AUDIO"],[108,87,0,98,0,"AUDIO"],[109,98,1,56,1,"STRING"],[110,98,1,99,0,"STRING"],[112,94,0,101,0,"AUDIO"],[113,101,1,57,1,"STRING"],[114,101,1,102,0,"STRING"],[115,52,0,103,0,"QWEN3_ROLE_BANK"],[116,103,0,62,0,"AUDIO"],[117,103,0,100,0,"AUDIO"]],"groups":[],"definitions":{"subgraphs":[{"id":"84b9ef87-ff17-4316-9f9a-a422bcdd553d","version":1,"state":{"lastGroupId":0,"lastNodeId":67,"lastLinkId":55,"lastRerouteId":0},"revision":0,"config":{},"name":"custom-语音识别翻译-fastwhisper","inputNode":{"id":-10,"bounding":[-377.84365822006623,130.80423901845853,124.00064086914062,140]},"outputNode":{"id":-20,"bounding":[972.8815059135562,120.80423901845853,120,80]},"inputs":[{"id":"3b393633-a0e2-455a-8984-162e619eef89","name":"audio","type":"AUDIO","linkIds":[48],"localized_name":"audio","label":"音频","pos":[-273.8430173509256,150.80423901845853]},{"id":"e26400b1-2f70-4454-b1fe-33f1657d612f","name":"model","type":"COMBO","linkIds":[50],"label":"模型","pos":[-273.8430173509256,170.80423901845853]},{"id":"183208b4-9cd9-4efb-9bf2-a4d67ea3df9b","name":"language","type":"COMBO","linkIds":[51],"label":"语言","pos":[-273.8430173509256,190.80423901845853]},{"id":"c58cf565-a9c5-4005-ae41-75f09e3c3b94","name":"task","type":"COMBO","linkIds":[53],"label":"语音识别或翻译","pos":[-273.8430173509256,210.80423901845853]},{"id":"d128d3cc-4d9c-44b1-8c92-537c5989179c","name":"subtitle_format","type":"COMBO","linkIds":[54],"label":"字幕格式","pos":[-273.8430173509256,230.80423901845853]}],"outputs":[{"id":"d69d75d8-4f62-4b2e-8fdd-743c3994c0a3","name":"subtitle text","type":"SUBTITLE","linkIds":[39],"localized_name":"subtitle text","label":"字幕文件","pos":[992.8815059135562,140.80423901845853]},{"id":"5753b716-c544-491b-96d6-697bc580de07","name":"pure text","type":"STRING","linkIds":[55],"label":"纯文本","pos":[992.8815059135562,160.80423901845853]}],"widgets":[],"nodes":[{"id":44,"type":"Note","pos":[-197.84365822006626,494.7252919882528],"size":[361.1064453125,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Since I can not use None value as default in ComfyUI, \n\nI used `-999` and empty strings as None value in some parameters."],"color":"#432","bgcolor":"#653"},{"id":59,"type":"Note","pos":[524.435361524512,-106.04193575275401],"size":[388.4461443890442,713.9853835120548],"flags":{"pinned":true},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["1. 核心任务参数\n\n    language: 指定音频语言。设置为 auto 时模型会自动检测；指定如 zh 或 en 可提高识别速度和准确率。\n\n    task:\n\n        transcribe: 语音转文字（默认）。\n\n        translate: 语音翻译（通常是将源语言直接翻译为英文）。\n\n2. 搜索策略（解码质量）\n\n    beam_size: 束搜索大小。模型在解码时会保留前 N 个可能性。值越大越准确，但速度越慢（通常 5 是平衡点）。\n\n    best_of: 非束搜索时采样的候选数量。与 beam_size 类似，增加它会提高搜索质量。\n\n    patience: 束搜索的耐心系数。值 > 1 会让搜索更倾向于找到全局更优解。\n\n    temperature: 温度系数。0.0 表示结果最稳定（确定性）；值越高，结果越随机，有时用于解决模型反复卡在某句话的情况。\n\n3. 阈值与过滤（解决“幻觉”）\n\n    log_prob_threshold: 概率阈值。如果该片段的平均对数概率低于此值，则认为识别不可靠。\n\n    no_speech_threshold: 无声检测阈值。如果模型认为“没有说话”的概率高于此值，该片段会被跳过。\n\n    compression_ratio_threshold: 压缩比阈值。用于检测文本是否陷入了死循环（比如不停重复某个字）。\n\n    hallucination_silence_threshold: 幻觉静音阈值。当检测到长时间静音时，强制结束当前生成，防止模型胡言乱语。\n\n4. 文本约束与格式\n\n    prefix: 强制前缀。引导模型以特定词汇开始识别。\n\n    initial_prompt: 初始提示词。告诉模型背景（如专业术语、人名），让模型更准确地拼写相关词汇。\n\n    hotwords: 热词。提供关键词列表，增加模型识别这些特定词汇的权重。\n\n    suppress_blank: 是否抑制空输出。开启后，模型会尽量避免产生空白行。\n\n    suppress_tokens: 抑制特定字符代码（Token）。默认为 [-1]，通常用于屏蔽某些特殊符号。\n\n    prepend/append_punctuations: 标点符号偏好。指定模型在识别时优先考虑的起始/结束标点。\n\n5. 时间轴控制\n\n    word_timestamps: 单词级时间戳。开启后会计算每个单词的确切时间，而不是仅提供一整句的时间轴。\n\n    max_initial_timestamp: 限制首个时间戳出现的时间。如果音频开头有很长的静音，可以调整此值。\n\n    without_timestamps: 是否输出时间戳。如果只需要纯文本，可以关闭。\n\n    clip_timestamps: 指定识别音频的特定范围（例如只处理 10s 到 30s）。\n\n6. 长音频处理与 VAD\n\n    chunk_length: 分段长度。将长音频切分成多少秒的小段进行处理。\n\n    condition_on_previous_text: 上下文关联。开启后，模型会参考前一段识别的内容来识别下一段，有助于保持语义连贯，但有时会导致错误累积。\n\n    vad_filter: VAD（语音活跃检测）过滤器。开启后，程序会先剔除完全没有声音的部分，能大幅提升速度并减少幻觉。\n\n    vad_parameters: VAD 的高级微调参数（如攻击时间、释放时间等）。\n\n7. 语言检测\n\n    language_detection_threshold: 只有当语言检测的置信度高于此值时才确定语言。\n\n    language_detection_segments: 用于检测语言的采样片段数量。\n\n建议建议： 如果你在识别时发现模型频繁重复说话或者胡言乱语，建议开启 vad_filter=True 并适当调高 no_speech_threshold。"],"color":"#432","bgcolor":"#653"},{"id":60,"type":"PrimitiveBoolean","pos":[-152.74521875314915,382.4427422182047],"size":[270,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"值","name":"value","type":"BOOLEAN","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"布尔","name":"BOOLEAN","type":"BOOLEAN","links":[46]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PrimitiveBoolean","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[true]},{"id":63,"type":"Audio Resample (mtb)","pos":[-159.46838656955458,-105.5866700487166],"size":[270,58],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":48},{"localized_name":"sample_rate","name":"sample_rate","type":"INT","widget":{"name":"sample_rate"},"link":null}],"outputs":[{"localized_name":"resampled_audio","name":"resampled_audio","type":"AUDIO","links":[49]}],"properties":{"cnr_id":"comfy-mtb","ver":"eabe43db79112d4e3674db343c5c184145e8396c","Node name for S&R":"Audio Resample (mtb)","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[16000]},{"id":64,"type":"Note","pos":[-172.82151530264878,-256.33496972238373],"size":[315,103.18181818181819],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["音频采样率设置为16000 HZ可以有效的提高准确率"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"LoadFasterWhisperModel","pos":[-166.62775766682606,11.957175056348568],"size":[315,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":50},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"faster_whisper_model","name":"faster_whisper_model","type":"FASTERWHISPERMODEL","slot_index":0,"links":[41]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"LoadFasterWhisperModel","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["faster-whisper-large-v3","cuda"]},{"id":62,"type":"PrimitiveFloat","pos":[-153.95103115660157,274.67812408815405],"size":[270,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"值","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"浮点","name":"FLOAT","type":"FLOAT","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PrimitiveFloat","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[0.9]},{"id":49,"type":"FasterWhisperTranscription","pos":[193,-226],"size":[315,822],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":49},{"localized_name":"model","name":"model","type":"FASTERWHISPERMODEL","link":41},{"localized_name":"language","name":"language","shape":7,"type":"COMBO","widget":{"name":"language"},"link":51},{"localized_name":"task","name":"task","shape":7,"type":"COMBO","widget":{"name":"task"},"link":53},{"localized_name":"beam_size","name":"beam_size","shape":7,"type":"INT","widget":{"name":"beam_size"},"link":null},{"localized_name":"log_prob_threshold","name":"log_prob_threshold","shape":7,"type":"FLOAT","widget":{"name":"log_prob_threshold"},"link":null},{"localized_name":"no_speech_threshold","name":"no_speech_threshold","shape":7,"type":"FLOAT","widget":{"name":"no_speech_threshold"},"link":47},{"localized_name":"best_of","name":"best_of","shape":7,"type":"INT","widget":{"name":"best_of"},"link":null},{"localized_name":"patience","name":"patience","shape":7,"type":"FLOAT","widget":{"name":"patience"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"compression_ratio_threshold","name":"compression_ratio_threshold","shape":7,"type":"FLOAT","widget":{"name":"compression_ratio_threshold"},"link":null},{"localized_name":"length_penalty","name":"length_penalty","shape":7,"type":"FLOAT","widget":{"name":"length_penalty"},"link":null},{"localized_name":"repetition_penalty","name":"repetition_penalty","shape":7,"type":"FLOAT","widget":{"name":"repetition_penalty"},"link":null},{"localized_name":"no_repeat_ngram_size","name":"no_repeat_ngram_size","shape":7,"type":"INT","widget":{"name":"no_repeat_ngram_size"},"link":null},{"localized_name":"prefix","name":"prefix","shape":7,"type":"STRING","widget":{"name":"prefix"},"link":null},{"localized_name":"suppress_blank","name":"suppress_blank","shape":7,"type":"BOOLEAN","widget":{"name":"suppress_blank"},"link":null},{"localized_name":"suppress_tokens","name":"suppress_tokens","shape":7,"type":"STRING","widget":{"name":"suppress_tokens"},"link":null},{"localized_name":"max_initial_timestamp","name":"max_initial_timestamp","shape":7,"type":"FLOAT","widget":{"name":"max_initial_timestamp"},"link":null},{"localized_name":"word_timestamps","name":"word_timestamps","shape":7,"type":"BOOLEAN","widget":{"name":"word_timestamps"},"link":null},{"localized_name":"prepend_punctuations","name":"prepend_punctuations","shape":7,"type":"STRING","widget":{"name":"prepend_punctuations"},"link":null},{"localized_name":"append_punctuations","name":"append_punctuations","shape":7,"type":"STRING","widget":{"name":"append_punctuations"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"chunk_length","name":"chunk_length","shape":7,"type":"INT","widget":{"name":"chunk_length"},"link":null},{"localized_name":"hallucination_silence_threshold","name":"hallucination_silence_threshold","shape":7,"type":"FLOAT","widget":{"name":"hallucination_silence_threshold"},"link":null},{"localized_name":"hotwords","name":"hotwords","shape":7,"type":"STRING","widget":{"name":"hotwords"},"link":null},{"localized_name":"language_detection_threshold","name":"language_detection_threshold","shape":7,"type":"FLOAT","widget":{"name":"language_detection_threshold"},"link":null},{"localized_name":"language_detection_segments","name":"language_detection_segments","shape":7,"type":"INT","widget":{"name":"language_detection_segments"},"link":null},{"localized_name":"prompt_reset_on_temperature","name":"prompt_reset_on_temperature","shape":7,"type":"FLOAT","widget":{"name":"prompt_reset_on_temperature"},"link":null},{"localized_name":"condition_on_previous_text","name":"condition_on_previous_text","shape":7,"type":"BOOLEAN","widget":{"name":"condition_on_previous_text"},"link":null},{"localized_name":"initial_prompt","name":"initial_prompt","shape":7,"type":"STRING","widget":{"name":"initial_prompt"},"link":null},{"localized_name":"without_timestamps","name":"without_timestamps","shape":7,"type":"BOOLEAN","widget":{"name":"without_timestamps"},"link":null},{"localized_name":"vad_filter","name":"vad_filter","shape":7,"type":"BOOLEAN","widget":{"name":"vad_filter"},"link":46},{"localized_name":"vad_parameters","name":"vad_parameters","shape":7,"type":"STRING","widget":{"name":"vad_parameters"},"link":null},{"localized_name":"clip_timestamps","name":"clip_timestamps","shape":7,"type":"STRING","widget":{"name":"clip_timestamps"},"link":null}],"outputs":[{"localized_name":"transcriptions","name":"transcriptions","type":"TRANSCRIPTIONS","slot_index":0,"links":[42]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"FasterWhisperTranscription","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["auto","transcribe",5,-1,0.6,5,1,0,2.4,1,1,0,"",true,"[-1]",1,false,"\"'“¿([{-","\"'.。,，!！?？:：”)]}、",-999,-999,-999,"",-999,1,0.5,true,"",false,false,"","0"]},{"id":41,"type":"FasterWhisperToSubtitle","pos":[520.8512396694217,-224.4430708284956],"size":[355.20001220703125,78],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"transcriptions","name":"transcriptions","type":"TRANSCRIPTIONS","link":42},{"localized_name":"subtitle_format","name":"subtitle_format","type":"COMBO","widget":{"name":"subtitle_format"},"link":54}],"outputs":[{"localized_name":"subtitle text","name":"subtitle text","type":"SUBTITLE","slot_index":0,"links":[39]},{"localized_name":"pure text","name":"pure text","type":"STRING","links":[55]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"FasterWhisperToSubtitle","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[".vtt"]}],"groups":[],"links":[{"id":42,"origin_id":49,"origin_slot":0,"target_id":41,"target_slot":0,"type":"TRANSCRIPTIONS"},{"id":49,"origin_id":63,"origin_slot":0,"target_id":49,"target_slot":0,"type":"AUDIO"},{"id":41,"origin_id":43,"origin_slot":0,"target_id":49,"target_slot":1,"type":"FASTERWHISPERMODEL"},{"id":47,"origin_id":62,"origin_slot":0,"target_id":49,"target_slot":6,"type":"FLOAT"},{"id":46,"origin_id":60,"origin_slot":0,"target_id":49,"target_slot":31,"type":"BOOLEAN"},{"id":48,"origin_id":-10,"origin_slot":0,"target_id":63,"target_slot":0,"type":"AUDIO"},{"id":39,"origin_id":41,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"SUBTITLE"},{"id":50,"origin_id":-10,"origin_slot":1,"target_id":43,"target_slot":0,"type":"COMBO"},{"id":51,"origin_id":-10,"origin_slot":2,"target_id":49,"target_slot":2,"type":"COMBO"},{"id":53,"origin_id":-10,"origin_slot":3,"target_id":49,"target_slot":3,"type":"COMBO"},{"id":54,"origin_id":-10,"origin_slot":4,"target_id":41,"target_slot":1,"type":"COMBO"},{"id":55,"origin_id":41,"origin_slot":1,"target_id":-20,"target_slot":1,"type":"STRING"}],"extra":{"workflowRendererVersion":"LG","ue_links":[],"links_added_by_ue":[]}},{"id":"f522df83-ea66-4ade-85d1-ae5fc5a48628","version":1,"state":{"lastGroupId":0,"lastNodeId":67,"lastLinkId":55,"lastRerouteId":0},"revision":0,"config":{},"name":"custom-语音识别翻译-fastwhisper","inputNode":{"id":-10,"bounding":[-377.84365822006623,130.80423901845853,124.00064086914062,140]},"outputNode":{"id":-20,"bounding":[972.8815059135562,120.80423901845853,120,80]},"inputs":[{"id":"3b393633-a0e2-455a-8984-162e619eef89","name":"audio","type":"AUDIO","linkIds":[48],"localized_name":"audio","label":"音频","pos":[-273.8430173509256,150.80423901845853]},{"id":"e26400b1-2f70-4454-b1fe-33f1657d612f","name":"model","type":"COMBO","linkIds":[50],"label":"模型","pos":[-273.8430173509256,170.80423901845853]},{"id":"183208b4-9cd9-4efb-9bf2-a4d67ea3df9b","name":"language","type":"COMBO","linkIds":[51],"label":"语言","pos":[-273.8430173509256,190.80423901845853]},{"id":"c58cf565-a9c5-4005-ae41-75f09e3c3b94","name":"task","type":"COMBO","linkIds":[53],"label":"语音识别或翻译","pos":[-273.8430173509256,210.80423901845853]},{"id":"d128d3cc-4d9c-44b1-8c92-537c5989179c","name":"subtitle_format","type":"COMBO","linkIds":[54],"label":"字幕格式","pos":[-273.8430173509256,230.80423901845853]}],"outputs":[{"id":"d69d75d8-4f62-4b2e-8fdd-743c3994c0a3","name":"subtitle text","type":"SUBTITLE","linkIds":[39],"localized_name":"subtitle text","label":"字幕文件","pos":[992.8815059135562,140.80423901845853]},{"id":"5753b716-c544-491b-96d6-697bc580de07","name":"pure text","type":"STRING","linkIds":[55],"label":"纯文本","pos":[992.8815059135562,160.80423901845853]}],"widgets":[],"nodes":[{"id":44,"type":"Note","pos":[-197.84365822006626,494.7252919882528],"size":[361.1064453125,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Since I can not use None value as default in ComfyUI, \n\nI used `-999` and empty strings as None value in some parameters."],"color":"#432","bgcolor":"#653"},{"id":59,"type":"Note","pos":[524.435361524512,-106.04193575275401],"size":[388.4461443890442,713.9853835120548],"flags":{"pinned":true},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["1. 核心任务参数\n\n    language: 指定音频语言。设置为 auto 时模型会自动检测；指定如 zh 或 en 可提高识别速度和准确率。\n\n    task:\n\n        transcribe: 语音转文字（默认）。\n\n        translate: 语音翻译（通常是将源语言直接翻译为英文）。\n\n2. 搜索策略（解码质量）\n\n    beam_size: 束搜索大小。模型在解码时会保留前 N 个可能性。值越大越准确，但速度越慢（通常 5 是平衡点）。\n\n    best_of: 非束搜索时采样的候选数量。与 beam_size 类似，增加它会提高搜索质量。\n\n    patience: 束搜索的耐心系数。值 > 1 会让搜索更倾向于找到全局更优解。\n\n    temperature: 温度系数。0.0 表示结果最稳定（确定性）；值越高，结果越随机，有时用于解决模型反复卡在某句话的情况。\n\n3. 阈值与过滤（解决“幻觉”）\n\n    log_prob_threshold: 概率阈值。如果该片段的平均对数概率低于此值，则认为识别不可靠。\n\n    no_speech_threshold: 无声检测阈值。如果模型认为“没有说话”的概率高于此值，该片段会被跳过。\n\n    compression_ratio_threshold: 压缩比阈值。用于检测文本是否陷入了死循环（比如不停重复某个字）。\n\n    hallucination_silence_threshold: 幻觉静音阈值。当检测到长时间静音时，强制结束当前生成，防止模型胡言乱语。\n\n4. 文本约束与格式\n\n    prefix: 强制前缀。引导模型以特定词汇开始识别。\n\n    initial_prompt: 初始提示词。告诉模型背景（如专业术语、人名），让模型更准确地拼写相关词汇。\n\n    hotwords: 热词。提供关键词列表，增加模型识别这些特定词汇的权重。\n\n    suppress_blank: 是否抑制空输出。开启后，模型会尽量避免产生空白行。\n\n    suppress_tokens: 抑制特定字符代码（Token）。默认为 [-1]，通常用于屏蔽某些特殊符号。\n\n    prepend/append_punctuations: 标点符号偏好。指定模型在识别时优先考虑的起始/结束标点。\n\n5. 时间轴控制\n\n    word_timestamps: 单词级时间戳。开启后会计算每个单词的确切时间，而不是仅提供一整句的时间轴。\n\n    max_initial_timestamp: 限制首个时间戳出现的时间。如果音频开头有很长的静音，可以调整此值。\n\n    without_timestamps: 是否输出时间戳。如果只需要纯文本，可以关闭。\n\n    clip_timestamps: 指定识别音频的特定范围（例如只处理 10s 到 30s）。\n\n6. 长音频处理与 VAD\n\n    chunk_length: 分段长度。将长音频切分成多少秒的小段进行处理。\n\n    condition_on_previous_text: 上下文关联。开启后，模型会参考前一段识别的内容来识别下一段，有助于保持语义连贯，但有时会导致错误累积。\n\n    vad_filter: VAD（语音活跃检测）过滤器。开启后，程序会先剔除完全没有声音的部分，能大幅提升速度并减少幻觉。\n\n    vad_parameters: VAD 的高级微调参数（如攻击时间、释放时间等）。\n\n7. 语言检测\n\n    language_detection_threshold: 只有当语言检测的置信度高于此值时才确定语言。\n\n    language_detection_segments: 用于检测语言的采样片段数量。\n\n建议建议： 如果你在识别时发现模型频繁重复说话或者胡言乱语，建议开启 vad_filter=True 并适当调高 no_speech_threshold。"],"color":"#432","bgcolor":"#653"},{"id":60,"type":"PrimitiveBoolean","pos":[-152.74521875314915,382.4427422182047],"size":[270,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"值","name":"value","type":"BOOLEAN","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"布尔","name":"BOOLEAN","type":"BOOLEAN","links":[46]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PrimitiveBoolean","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[true]},{"id":63,"type":"Audio Resample (mtb)","pos":[-159.46838656955458,-105.5866700487166],"size":[270,58],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":48},{"localized_name":"sample_rate","name":"sample_rate","type":"INT","widget":{"name":"sample_rate"},"link":null}],"outputs":[{"localized_name":"resampled_audio","name":"resampled_audio","type":"AUDIO","links":[49]}],"properties":{"cnr_id":"comfy-mtb","ver":"eabe43db79112d4e3674db343c5c184145e8396c","Node name for S&R":"Audio Resample (mtb)","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[16000]},{"id":64,"type":"Note","pos":[-172.82151530264878,-256.33496972238373],"size":[315,103.18181818181819],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["音频采样率设置为16000 HZ可以有效的提高准确率"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"LoadFasterWhisperModel","pos":[-166.62775766682606,11.957175056348568],"size":[315,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":50},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"faster_whisper_model","name":"faster_whisper_model","type":"FASTERWHISPERMODEL","slot_index":0,"links":[41]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"LoadFasterWhisperModel","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["faster-whisper-large-v3","cuda"]},{"id":62,"type":"PrimitiveFloat","pos":[-153.95103115660157,274.67812408815405],"size":[270,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"值","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"浮点","name":"FLOAT","type":"FLOAT","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PrimitiveFloat","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[0.9]},{"id":49,"type":"FasterWhisperTranscription","pos":[193,-226],"size":[315,822],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":49},{"localized_name":"model","name":"model","type":"FASTERWHISPERMODEL","link":41},{"localized_name":"language","name":"language","shape":7,"type":"COMBO","widget":{"name":"language"},"link":51},{"localized_name":"task","name":"task","shape":7,"type":"COMBO","widget":{"name":"task"},"link":53},{"localized_name":"beam_size","name":"beam_size","shape":7,"type":"INT","widget":{"name":"beam_size"},"link":null},{"localized_name":"log_prob_threshold","name":"log_prob_threshold","shape":7,"type":"FLOAT","widget":{"name":"log_prob_threshold"},"link":null},{"localized_name":"no_speech_threshold","name":"no_speech_threshold","shape":7,"type":"FLOAT","widget":{"name":"no_speech_threshold"},"link":47},{"localized_name":"best_of","name":"best_of","shape":7,"type":"INT","widget":{"name":"best_of"},"link":null},{"localized_name":"patience","name":"patience","shape":7,"type":"FLOAT","widget":{"name":"patience"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"compression_ratio_threshold","name":"compression_ratio_threshold","shape":7,"type":"FLOAT","widget":{"name":"compression_ratio_threshold"},"link":null},{"localized_name":"length_penalty","name":"length_penalty","shape":7,"type":"FLOAT","widget":{"name":"length_penalty"},"link":null},{"localized_name":"repetition_penalty","name":"repetition_penalty","shape":7,"type":"FLOAT","widget":{"name":"repetition_penalty"},"link":null},{"localized_name":"no_repeat_ngram_size","name":"no_repeat_ngram_size","shape":7,"type":"INT","widget":{"name":"no_repeat_ngram_size"},"link":null},{"localized_name":"prefix","name":"prefix","shape":7,"type":"STRING","widget":{"name":"prefix"},"link":null},{"localized_name":"suppress_blank","name":"suppress_blank","shape":7,"type":"BOOLEAN","widget":{"name":"suppress_blank"},"link":null},{"localized_name":"suppress_tokens","name":"suppress_tokens","shape":7,"type":"STRING","widget":{"name":"suppress_tokens"},"link":null},{"localized_name":"max_initial_timestamp","name":"max_initial_timestamp","shape":7,"type":"FLOAT","widget":{"name":"max_initial_timestamp"},"link":null},{"localized_name":"word_timestamps","name":"word_timestamps","shape":7,"type":"BOOLEAN","widget":{"name":"word_timestamps"},"link":null},{"localized_name":"prepend_punctuations","name":"prepend_punctuations","shape":7,"type":"STRING","widget":{"name":"prepend_punctuations"},"link":null},{"localized_name":"append_punctuations","name":"append_punctuations","shape":7,"type":"STRING","widget":{"name":"append_punctuations"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"chunk_length","name":"chunk_length","shape":7,"type":"INT","widget":{"name":"chunk_length"},"link":null},{"localized_name":"hallucination_silence_threshold","name":"hallucination_silence_threshold","shape":7,"type":"FLOAT","widget":{"name":"hallucination_silence_threshold"},"link":null},{"localized_name":"hotwords","name":"hotwords","shape":7,"type":"STRING","widget":{"name":"hotwords"},"link":null},{"localized_name":"language_detection_threshold","name":"language_detection_threshold","shape":7,"type":"FLOAT","widget":{"name":"language_detection_threshold"},"link":null},{"localized_name":"language_detection_segments","name":"language_detection_segments","shape":7,"type":"INT","widget":{"name":"language_detection_segments"},"link":null},{"localized_name":"prompt_reset_on_temperature","name":"prompt_reset_on_temperature","shape":7,"type":"FLOAT","widget":{"name":"prompt_reset_on_temperature"},"link":null},{"localized_name":"condition_on_previous_text","name":"condition_on_previous_text","shape":7,"type":"BOOLEAN","widget":{"name":"condition_on_previous_text"},"link":null},{"localized_name":"initial_prompt","name":"initial_prompt","shape":7,"type":"STRING","widget":{"name":"initial_prompt"},"link":null},{"localized_name":"without_timestamps","name":"without_timestamps","shape":7,"type":"BOOLEAN","widget":{"name":"without_timestamps"},"link":null},{"localized_name":"vad_filter","name":"vad_filter","shape":7,"type":"BOOLEAN","widget":{"name":"vad_filter"},"link":46},{"localized_name":"vad_parameters","name":"vad_parameters","shape":7,"type":"STRING","widget":{"name":"vad_parameters"},"link":null},{"localized_name":"clip_timestamps","name":"clip_timestamps","shape":7,"type":"STRING","widget":{"name":"clip_timestamps"},"link":null}],"outputs":[{"localized_name":"transcriptions","name":"transcriptions","type":"TRANSCRIPTIONS","slot_index":0,"links":[42]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"FasterWhisperTranscription","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["auto","transcribe",5,-1,0.6,5,1,0,2.4,1,1,0,"",true,"[-1]",1,false,"\"'“¿([{-","\"'.。,，!！?？:：”)]}、",-999,-999,-999,"",-999,1,0.5,true,"",false,false,"","0"]},{"id":41,"type":"FasterWhisperToSubtitle","pos":[520.8512396694217,-224.4430708284956],"size":[355.20001220703125,78],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"transcriptions","name":"transcriptions","type":"TRANSCRIPTIONS","link":42},{"localized_name":"subtitle_format","name":"subtitle_format","type":"COMBO","widget":{"name":"subtitle_format"},"link":54}],"outputs":[{"localized_name":"subtitle text","name":"subtitle text","type":"SUBTITLE","slot_index":0,"links":[39]},{"localized_name":"pure text","name":"pure text","type":"STRING","links":[55]}],"properties":{"cnr_id":"comfyui-faster-whisper","ver":"a8f39d5ae4cd160ba1ec429492025a75a8422928","Node name for S&R":"FasterWhisperToSubtitle","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[".vtt"]}],"groups":[],"links":[{"id":42,"origin_id":49,"origin_slot":0,"target_id":41,"target_slot":0,"type":"TRANSCRIPTIONS"},{"id":49,"origin_id":63,"origin_slot":0,"target_id":49,"target_slot":0,"type":"AUDIO"},{"id":41,"origin_id":43,"origin_slot":0,"target_id":49,"target_slot":1,"type":"FASTERWHISPERMODEL"},{"id":47,"origin_id":62,"origin_slot":0,"target_id":49,"target_slot":6,"type":"FLOAT"},{"id":46,"origin_id":60,"origin_slot":0,"target_id":49,"target_slot":31,"type":"BOOLEAN"},{"id":48,"origin_id":-10,"origin_slot":0,"target_id":63,"target_slot":0,"type":"AUDIO"},{"id":39,"origin_id":41,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"SUBTITLE"},{"id":50,"origin_id":-10,"origin_slot":1,"target_id":43,"target_slot":0,"type":"COMBO"},{"id":51,"origin_id":-10,"origin_slot":2,"target_id":49,"target_slot":2,"type":"COMBO"},{"id":53,"origin_id":-10,"origin_slot":3,"target_id":49,"target_slot":3,"type":"COMBO"},{"id":54,"origin_id":-10,"origin_slot":4,"target_id":41,"target_slot":1,"type":"COMBO"},{"id":55,"origin_id":41,"origin_slot":1,"target_id":-20,"target_slot":1,"type":"STRING"}],"extra":{"workflowRendererVersion":"LG","ue_links":[],"links_added_by_ue":[]}}]},"config":{},"extra":{"VHS_KeepIntermediate":true,"links_added_by_ue":[],"VHS_MetadataImage":true,"ue_links":[],"0246.VERSION":[0,0,4],"workflowRendererVersion":"LG","VHS_latentpreviewrate":0,"frontendVersion":"1.23.0","VHS_latentpreview":false,"ds":{"scale":1.4122927695244587,"offset":[-917.7100525341541,3676.5680406253505]}},"version":0.4}